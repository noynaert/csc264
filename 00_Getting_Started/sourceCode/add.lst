GAS LISTING add.s 			page 1


   1              	/******************************************************************************************
   2              	This program adds two integers and returns the sum to the operating system as the exit code.
   3              	
   4              	File: add.s
   5              	Programmer: J. Evan Noynaert
   6              	Begun:  August, 2025
   7              	
   8              	Assemble with GNU "as" assembler under Linux
   9              	
  10              	*******************************************************************************************/
  11              	
  12              	.globl _start
  13              	
  14              	.data
  15 0000 0F000000 	  num1: .quad 15
  15      00000000 
  16 0008 06000000 	  num2: .quad 6
  16      00000000 
  17 0010 00000000 	  sum:  .quad 0
  17      00000000 
  18              	
  19              	.text
  20              	_start:
  21              	
  22              	  # add two quad integers and store the result in sum  sum = num1 + num2
  23 0000 488B0425 	  movq num1, %rax   # move the value stored in num1 into the rax register
  23      00000000 
  24 0008 48030425 	  addq num2, %rax   # add the value stored in num2 to the value alread in the rax register.
  24      00000000 
  25 0010 48890425 	  movq %rax, sum    # moves the contents of the rax register into sum
  25      00000000 
  26              	
  27              	  # use syscall to exit and return sum as an exit code.  System.exit(sum)  sys.exit(sum)
  28 0018 48C7C03C 	  movq $60, %rax
  28      000000
  29 001f 488B3C25 	  movq sum, %rdi
  29      00000000 
  30 0027 0F05     	  syscall
