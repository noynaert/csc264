GAS LISTING ifelse.s 			page 1


   1              	/*
   2              	   Demonstrates using a bitmask to determine if a number is even or odd.
   3              	   Uses full if...else structure
   4              	
   5              	   Registers:
   6              	      R8 will hold the number being tested
   7              	      R9b will hold the label.
   8              	
   9              	*/
  10              	.globl _start
  11              	.data  
  12 0000 08000000 	   number: .quad 8
  12      00000000 
  13 0008 01000000 	   eoMask: .quad 0x01
  13      00000000 
  14 0010 00       	   label:  .byte 0x0 #will hold eithe "E" or "O" at the end of the program
  15 0011 4576656E 	   even:   .ascii "Even"
  16 0015 4F6464   	   odd:    .ascii "Odd"
  17              	.text
  18              	_start:
  19              	  
  20              	  # load the number into r8
  21 0000 4C8B0425 	  movq number, %r8
  21      00000000 
  22              	
  23              	  # Begin if...else block
  24 0008 4C230425 	  andq eoMask,%r8 #mask the last bit.  Is it Zero?
  24      00000000 
  25 0010 750A     	  jnz _odd
  26 0012 448A0C25 	  movb even, %r9b
  26      00000000 
  27 001a EB08     	  jmp _output
  28              	  _odd:     # else
  29 001c 448A0C25 	  movb odd, %r9b
  29      00000000 
  30              	
  31              	  _output:
  32 0024 44880C25 	  movb %r9b, label
  32      00000000 
  33              	
  34              	_exit:
  35 002c 48C7C03C 	    movq $60, %rax
  35      000000
  36 0033 408A3C25 	    movb  label, %dil
  36      00000000 
  37 003b 0F05     	    syscall
