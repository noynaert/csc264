# 06.020 Writing  with Known Length

This will involve the simple case where the number of bytes is known in advance.

This is the fastest and simplest way to do output.

## Register Usage

The following applies to syscalls in general.  There are several other registers that are used for other commands, but these are the main ones for sys_write.

The following was stolen from the Registers unit we did.  It presented the conceptual idea of what each register was used for:

* rax - syscall number -- After the call, it contains return value after syscall
* rsi/rdi sorce/destination for memory transfers
* rdx - I/O pointer

In practice, we don't adhere strongly to those specifications.
### Specifically for `sys_write`:

* rax - syscall number (1 for sys_write)
* rdi - file descriptor (1 for stdout)
* rsi - pointer to the buffer to write
* rdx - number of bytes to write


```
/*
    Syscall write with known number of bytes
*/

.globl _start
.data
  first:   .ascii "abcdefg\n\r"
  len: .quad  . - first
.text
_start:

  # Write the first string to the screen.
  movq $1, %rax   #move the syscall number for sys_write into rax
  movq $1, %rdi   #file descriptor 1 is stdout
  movq $first, %rsi  #pointer to the buffer to write
  movq len,%rdx  #number of bytes to write
  syscall

_exit:
  movq $60, %rax
  movq $0, %rdi
  syscall
```
