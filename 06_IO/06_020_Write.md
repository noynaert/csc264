# 06.020 Writing with `sys_write`

## Register Usage

The following applies to syscalls in general.  There are several other registers that are used for other commands, but these are the main ones for sys_write.

* rax - syscall number -- After the call, it contains return value after syscall
* rsi/rdi sorce/destination for memory transfers
* rdx - I/O pointer

### Specifically for `sys_write`:

* rax - syscall number (1 for sys_write)
* rdi - file descriptor (1 for stdout)
* rsi - pointer to the buffer to write
* rdx - number of bytes to write


```
/*
    Syscall write
*/

.globl _start
.data
  s:   .ascii "abcdefg\n\r"
  len: .quad  . - s
.text
_start:
  movq $1, %rax   #move the syscall number for sys_write into rax
  movq $1, %rdi   #file descriptor 1 is stdout
  movq $s, %rsi  #pointer to the buffer to write
  movq len,%rdx  #number of bytes to write
  syscall

_exit:
  movq $60, %rax
  movq $0, %rdi
  syscall
```
