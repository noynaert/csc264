%!TEX program = xelatex
\documentclass[letterpaper,12pt]{exam}
\usepackage{../videoNotes}
\usepackage[dvipsnames]{xcolor}
\usepackage{soul}
\usepackage{tabulary}
\usepackage{fontspec}

%\usepackage{draftwatermark}
%\SetWatermarkText{Draft}
%\SetWatermarkScale{1.5}
%\SetWatermarkColor{red!20}

\newcommand{\unit}{Unit 11}
\pagestyle{headandfoot}
\firstpageheader{CSC 264 \semester\ \  \unit}{}{Name: $\rule{6cm}{0.15mm}$}
\runningheader{CSC 264 \semester}{\unit}{Page \thepage\ of \numpages}
\firstpagefooter{}{}{}
\runningfooter{}{}{}

\begin{document}

%\underconstruction

\par{\fontfamily{qzc}\selectfont\textbf{}}
\begin{questions}

\section*{\unit\_010 -- Writing A Function}
\begin{samepage}
    \question We have been using the \texttt{\textbf{.globl}} directive in our assembly language programs for the entire semester.  Explain what the .globl directive does.
    \vspace{25mm}
\end{samepage}
\par
\section*{\unit\_020 -- Recap }
\begin{samepage}
    \question Is main: going to be a caller or a callee function?
    \vspace{5mm}
\end{samepage}
\par
\begin{samepage}
    \question In the previous video, were the quit: functions callers or callees?
    \vspace{5mm}
\end{samepage}
\par
 \begin{samepage}
     \question What is the ABI?
     \vspace{5mm}
 \end{samepage}
 \newpage
  \begin{samepage}
      \question For each of the following, write "R" next to registers that belong to the caller function, and "E" next to the registers that belong to the callee
      \vspace{5mm}
      \begin{itemize}
          \item \%rax \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rbx \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rcx \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rdx \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rsi \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rdi \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r8  \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r9  \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r10 \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r11 \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r12 \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r13 \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r14 \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%r15 \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rsp \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rbp \hspace{10mm} \rule{20mm}{0.15mm}
         \item \%rip \hspace{10mm} \rule{20mm}{0.15mm}
          \item \%rflags \hspace{5mm} \rule{20mm}{0.15mm}
      \end{itemize}
        \end{samepage}
  \par
   \begin{samepage}
       \question In the previous question, why does ownership matter?  Generally, who should save the register?
       \vspace{15mm}
   \end{samepage}
   \par
    
\rule{0.5\textwidth}{.4pt} %End of section
%----------------------------------\section*{\unit\_- -- }
\section*{\unit\_030 -- Stack Recap}
\begin{samepage}
    \question What two register
    \vspace{5mm}
\end{samepage}
\par
\rule{0.5\textwidth}{.4pt} %End of section
%----------------------------------

\begin{samepage}
    \question What is the purpose of the rsp and the rbp registers?  If we already have the \%rsp register, why do we need the \%rbp register?
    \vspace{5mm}
\end{samepage}
\par
\begin{samepage}
    \question Why does subtracting from the \%rsp make the stack get larger?
    \vspace{15mm}
\end{samepage}
\par
 
\rule{0.5\textwidth}{.4pt} %End of section
%----------------------------------
\section*{\unit\_040 -- Stack Alignment}
\begin{samepage}
    \question What boundary must the stack be aligned to before a function call?
    \vspace{5mm}
\end{samepage}
\par
\begin{samepage}
    \question Should the caller or the callee align the stack?
    \vspace{5mm}
\end{samepage}
\par
 \begin{samepage}
     \question The caller is responsible for aligning the stack.  Let's assume that the programmer writing the caller function does reliably align the stack.  Does that mean that the callee can assume the stack is aligned when the function starts?  Explain. 
     \vspace{5mm}
 \end{samepage}
 \par
 \begin{samepage}
     \question What is a leaf function?
     \vspace{5mm}
 \end{samepage}
 \par
   \begin{samepage}
       \question What are three methods of aligning the stack?
\begin{itemize}
           \item Method 1: \vspace{5mm}
           \item Method 2: \vspace{5mm}
           \item Method 3: \vspace{5mm}
\end{itemize}
   \end{samepage}
   \par
    
\begin{samepage}
    \question How can the debugger let you confirm that the stack is aligned?
    \vspace{5mm}
\end{samepage}
\par
 
%---------------------------------- 
\section*{\unit\_050 -- Real Function}
\begin{samepage}
    \question Earlier in the semester we wrote a function that converted a string into a number.  Write a function that takes a string and returns the equivalent value in the \%rax.  You may either pass a null-terminated string, or you may pass a string and an integer representing length.
    \vspace{5mm}
\end{samepage}
\par
\hfill
%----------------------------------
%----------------------------------
\end{questions} 
%footer


%If you have any lingering questions or problems, please write them here or see me.
%\vfill
%\begin{center}
%\includegraphics{../csc264Logo}
%\end{center}
\end{document} 